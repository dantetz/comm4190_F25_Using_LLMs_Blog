<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dante">
<meta name="dcterms.date" content="2025-12-06">
<meta name="description" content="Analyzing LLM’s Response to the Book’s Claim">

<title>Why Machines Learn Argument Analysis Pt.2 – My Explorations with LLMs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-0b37c64f34216b628666a8dac638b53b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My Explorations with LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Why Machines Learn Argument Analysis Pt.2</h1>
                  <div>
        <div class="description">
          Analyzing LLM’s Response to the Book’s Claim
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">Learning</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Dante </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">December 6, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="analysis" class="level2">
<h2 class="anchored" data-anchor-id="analysis">Analysis</h2>
<p>The book emphasizes elegance and structure—where does that logic break down in messy real-world systems like language or politics?</p>
<p>This is exactly the right critical pressure point. A strong answer shouldn’t reject the book outright—it should show <strong>where elegance stops being explanatory</strong>.</p>
<hr>
</section>
<section id="short-answer-first" class="level2">
<h2 class="anchored" data-anchor-id="short-answer-first">Short answer first</h2>
<p>The structure-and-elegance logic breaks down when <strong>the system being learned is not governed by stable, invariant rules but by strategic, reflexive, and power-laden behavior</strong>, as in language and especially politics.</p>
<p>The book is strongest where:</p>
<ul>
<li>the data-generating process is <strong>fixed</strong> or slowly changing</li>
<li>feedback does <em>not</em> alter the underlying rules</li>
</ul>
<p>It weakens where:</p>
<ul>
<li>the target <strong>reacts to being modeled</strong></li>
<li>meaning is <strong>contextual and contested</strong></li>
<li>power reshapes the data itself</li>
</ul>
<hr>
</section>
<section id="language-structure-exists-but-meaning-is-underdetermined" class="level2">
<h2 class="anchored" data-anchor-id="language-structure-exists-but-meaning-is-underdetermined">1. Language: structure exists, but meaning is underdetermined</h2>
<section id="where-elegance-holds" class="level3">
<h3 class="anchored" data-anchor-id="where-elegance-holds">Where elegance holds</h3>
<p>Language clearly has:</p>
<ul>
<li>compositional syntax</li>
<li>hierarchical structure</li>
<li>strong statistical regularities</li>
</ul>
<p>That’s why LLMs work <strong>at all</strong>.</p>
</section>
<section id="where-it-breaks" class="level3">
<h3 class="anchored" data-anchor-id="where-it-breaks">Where it breaks</h3>
<p>Meaning in language is not purely structural:</p>
<ul>
<li>Words mean different things across communities</li>
<li>Irony, subtext, and cultural reference are not invariant</li>
<li>Language changes <em>because</em> of its use</li>
</ul>
<p>Mathematically:</p>
<ul>
<li>The model learns correlations, not intentions</li>
<li>Geometry captures <strong>form</strong>, not <strong>grounding</strong></li>
</ul>
<p>So structure is sufficient for <em>fluency</em>, but not for:</p>
<ul>
<li>truth</li>
<li>sincerity</li>
<li>normative interpretation</li>
</ul>
<p>This is why models sound competent while still hallucinating.</p>
<p><strong>Breakdown point:</strong></p>
<blockquote class="blockquote">
<p>Statistical structure is not semantic authority.</p>
</blockquote>
<hr>
</section>
</section>
<section id="politics-optimization-assumptions-collapse" class="level2">
<h2 class="anchored" data-anchor-id="politics-optimization-assumptions-collapse">2. Politics: optimization assumptions collapse</h2>
<p>Politics is where the book’s logic strains hardest.</p>
<p>Machine learning assumes:</p>
<ul>
<li>a stable objective</li>
<li>a fixed environment</li>
<li>outcomes independent of the model’s predictions</li>
</ul>
<p>Politics has <strong>none of these</strong>.</p>
<section id="key-failures-of-elegance-here" class="level3">
<h3 class="anchored" data-anchor-id="key-failures-of-elegance-here">Key failures of elegance here</h3>
<section id="a.-goals-are-contested" class="level4">
<h4 class="anchored" data-anchor-id="a.-goals-are-contested">a. Goals are contested</h4>
<p>There is no equivalent of a loss function.</p>
<ul>
<li>What counts as “success” is fought over</li>
<li>Metrics are political weapons, not neutral targets</li>
</ul>
<p>Any optimization embeds an ideology.</p>
</section>
<section id="b.-actors-are-strategic" class="level4">
<h4 class="anchored" data-anchor-id="b.-actors-are-strategic">b. Actors are strategic</h4>
<p>In politics:</p>
<ul>
<li>people lie</li>
<li>institutions adapt</li>
<li>models influence behavior</li>
</ul>
<p>The system is reflexive:</p>
<blockquote class="blockquote">
<p>The act of modeling changes the thing modeled.</p>
</blockquote>
<p>This violates core ML assumptions.</p>
</section>
<section id="c.-data-is-produced-by-power" class="level4">
<h4 class="anchored" data-anchor-id="c.-data-is-produced-by-power">c.&nbsp;Data is produced by power</h4>
<p>Political data is not “natural”:</p>
<ul>
<li>whose voices count is structured by inequality</li>
<li>what becomes “signal” is historically contingent</li>
</ul>
<p>Structure here is not mathematical—it is institutional.</p>
<hr>
</section>
</section>
</section>
<section id="the-absence-of-clean-symmetries" class="level2">
<h2 class="anchored" data-anchor-id="the-absence-of-clean-symmetries">3. The absence of clean symmetries</h2>
<p>The book leans heavily on:</p>
<ul>
<li>smoothness</li>
<li>invariance</li>
<li>symmetry</li>
</ul>
<p>But many real-world systems are:</p>
<ul>
<li>path-dependent</li>
<li>discontinuous</li>
<li>shock-driven</li>
</ul>
<p>Examples:</p>
<ul>
<li>revolutions</li>
<li>linguistic shifts</li>
<li>norm cascades</li>
</ul>
<p>These are not noise around a smooth function. They are <strong>structural breaks</strong>.</p>
<p>Gradient-based learning struggles precisely here.</p>
<hr>
</section>
<section id="when-elegance-becomes-aesthetic-not-explanatory" class="level2">
<h2 class="anchored" data-anchor-id="when-elegance-becomes-aesthetic-not-explanatory">4. When elegance becomes aesthetic, not explanatory</h2>
<p>In messy domains, “elegance” can become:</p>
<ul>
<li>a retrospective clean-up of chaos</li>
<li>a way of making outputs look meaningful</li>
<li>an illusion of understanding</li>
</ul>
<p>This doesn’t mean the math is wrong— it means it is <strong>insufficient</strong>.</p>
<blockquote class="blockquote">
<p>The model may capture regularity without capturing reason.</p>
</blockquote>
<p>That distinction matters socially and politically.</p>
<hr>
</section>
<section id="the-deeper-limit-ml-assumes-the-world-is-indifferent" class="level2">
<h2 class="anchored" data-anchor-id="the-deeper-limit-ml-assumes-the-world-is-indifferent">5. The deeper limit: ML assumes the world is indifferent</h2>
<p>At its core, <em>Why Machines Learn</em> assumes:</p>
<blockquote class="blockquote">
<p>the world doesn’t care how it’s modeled.</p>
</blockquote>
<p>But humans do.</p>
<p>Language users, voters, institutions, and media:</p>
<ul>
<li>anticipate models</li>
<li>game predictions</li>
<li>resist categorization</li>
</ul>
<p>Once that happens, elegance erodes.</p>
<hr>
</section>
<section id="clean-synthesis-you-can-use-in-discussion" class="level2">
<h2 class="anchored" data-anchor-id="clean-synthesis-you-can-use-in-discussion">Clean synthesis you can use in discussion</h2>
<blockquote class="blockquote">
<p>The book’s logic breaks down when structure is no longer an underlying property of the world but something actively produced, contested, and reshaped by human actors. In language this leads to semantic underdetermination; in politics it destroys the notion of a stable objective altogether.</p>
</blockquote>
<hr>
</section>
<section id="balanced-closing-important" class="level2">
<h2 class="anchored" data-anchor-id="balanced-closing-important">Balanced closing (important)</h2>
<p>This doesn’t refute the book.</p>
<p>It clarifies its scope:</p>
<ul>
<li>Mathematics explains why learning <em>can</em> work</li>
<li>It cannot explain what learning <em>means</em> in domains shaped by power, intention, and conflict</li>
</ul>
<p>If you want, I can:</p>
<ul>
<li>compress this into a 5–6 sentence polished response, or</li>
<li>map the critique explicitly onto <strong>Marx / ideology / political economy</strong>, which fits unusually well here.</li>
</ul>
</section>
<section id="map-this-onto-marxian-ideology" class="level2">
<h2 class="anchored" data-anchor-id="map-this-onto-marxian-ideology">Map this onto Marxian ideology</h2>
<p>This mapping actually makes the limits of the book <em>clearer</em>, not weaker. I’ll keep it tight but conceptually sharp.</p>
<hr>
</section>
<section id="mathematical-structure-as-ideology-marx-not-pop-marx" class="level2">
<h2 class="anchored" data-anchor-id="mathematical-structure-as-ideology-marx-not-pop-marx">1. Mathematical “structure” as ideology (Marx, not pop-Marx)</h2>
<p>In Marxian terms, <em>Why Machines Learn</em> risks treating <strong>historically produced social relations as natural technical forms</strong>.</p>
<p>What the book calls:</p>
<ul>
<li>structure</li>
<li>regularity</li>
<li>learnability</li>
</ul>
<p>maps onto what Marx would call:</p>
<ul>
<li><strong>reified social relations</strong></li>
<li>patterns produced by labor, institutions, and power that appear as objective facts</li>
</ul>
<p>In <em>Capital</em>, Marx’s core move is:</p>
<blockquote class="blockquote">
<p>Social relations between people take the form of relations between things.</p>
</blockquote>
<p>The book repeats this move in computational form:</p>
<blockquote class="blockquote">
<p>Social meaning becomes statistical structure in data.</p>
</blockquote>
<p>Once that happens, the structure looks <strong>necessary</strong>, timeless, and mathematical—when in fact it is contingent.</p>
<hr>
</section>
<section id="ideology-when-contingency-appears-as-necessity" class="level2">
<h2 class="anchored" data-anchor-id="ideology-when-contingency-appears-as-necessity">2. Ideology = when contingency appears as necessity</h2>
<p>For Marx, ideology is not “false ideas.” It is when:</p>
<blockquote class="blockquote">
<p>historically specific arrangements appear natural and inevitable.</p>
</blockquote>
<p>Mapping this to ML:</p>
<ul>
<li>Language patterns encoded in data are treated as mathematical regularities</li>
<li>Political preferences encoded in datasets are treated as signal</li>
<li>Power-filtered outcomes are treated as ground truth</li>
</ul>
<p>The elegance of the math helps conceal:</p>
<ul>
<li>who produced the data</li>
<li>under what constraints</li>
<li>for whose benefit</li>
</ul>
<p>This is exactly ideology: <strong>the masking of social production</strong>.</p>
<hr>
</section>
<section id="loss-functions-as-ideological-commitments" class="level2">
<h2 class="anchored" data-anchor-id="loss-functions-as-ideological-commitments">3. Loss functions as ideological commitments</h2>
<p>Marx insists that production always serves a purpose, even when presented as neutral.</p>
<p>In ML:</p>
<ul>
<li>There is always a loss function</li>
<li>Even when we pretend there isn’t</li>
</ul>
<p>In messy domains like politics:</p>
<ul>
<li>optimizing “engagement”</li>
<li>predicting “risk”</li>
<li>forecasting “stability”</li>
</ul>
<p>are not technical choices—they are <strong>classed interests</strong> rendered as math.</p>
<p>The book’s emphasis on universal structure underplays this.</p>
<blockquote class="blockquote">
<p>What appears as optimization is often domination smoothed by geometry.</p>
</blockquote>
<p>That’s a very Marxian critique.</p>
<hr>
</section>
<section id="reification-in-language-models" class="level2">
<h2 class="anchored" data-anchor-id="reification-in-language-models">4. Reification in language models</h2>
<p>The LLM is a perfect example of Marx’s <strong>commodity fetishism</strong>:</p>
<ul>
<li>Language, produced through collective human labor, appears as a self-contained object</li>
<li>Meaning seems to emerge from the model itself</li>
<li>The social origin of linguistic norms disappears</li>
</ul>
<p>The model “speaks,” but:</p>
<ul>
<li>it does not labor</li>
<li>it does not intend</li>
<li>it does not struggle</li>
</ul>
<p>Its fluency is <strong>dead labor animated by computation</strong>, echoing Marx’s description of machinery as congealed labor set in motion.</p>
<p>This is why elegance feels convincing—it’s fetishistic.</p>
<hr>
</section>
<section id="politics-why-structure-collapses-under-class-struggle" class="level2">
<h2 class="anchored" data-anchor-id="politics-why-structure-collapses-under-class-struggle">5. Politics: why structure collapses under class struggle</h2>
<p>Marx’s decisive insight:</p>
<blockquote class="blockquote">
<p>Class struggle introduces rupture, not smoothness.</p>
</blockquote>
<p>Political change happens through:</p>
<ul>
<li>conflict</li>
<li>contradiction</li>
<li>crisis</li>
</ul>
<p>These are <strong>non-differentiable events</strong>.</p>
<p>Gradient descent presumes:</p>
<ul>
<li>continuity</li>
<li>small updates</li>
<li>convergence</li>
</ul>
<p>But revolutions, strikes, norm breaks, and populist surges:</p>
<ul>
<li>break distributions</li>
<li>destroy priors</li>
<li>invalidate learned representations</li>
</ul>
<p>This is not noise around structure. It is <strong>structure-breaking action</strong>.</p>
<hr>
</section>
<section id="why-elegance-works-better-under-capitalism-than-against-it" class="level2">
<h2 class="anchored" data-anchor-id="why-elegance-works-better-under-capitalism-than-against-it">6. Why elegance works better under capitalism than against it</h2>
<p>Here’s the sharpest Marxian twist:</p>
<p>ML works best where capitalism has already:</p>
<ul>
<li>standardized behavior</li>
<li>monetized attention</li>
<li>regularized consumption</li>
<li>disciplined labor</li>
</ul>
<p>Capitalism <em>produces</em> the smooth surfaces ML exploits.</p>
<p>So elegance is not wrong—but it is <strong>politically situated</strong>.</p>
<blockquote class="blockquote">
<p>ML structure mirrors the structure of late capitalism itself.</p>
</blockquote>
<p>That’s a powerful insight the book doesn’t fully confront.</p>
<hr>
</section>
<section id="one-sentence-marxian-synthesis-you-can-use" class="level2">
<h2 class="anchored" data-anchor-id="one-sentence-marxian-synthesis-you-can-use">One-sentence Marxian synthesis you can use</h2>
<blockquote class="blockquote">
<p>From a Marxian perspective, the book risks treating historically produced social relations—language, preference, behavior—as natural mathematical structures, reproducing ideology by stabilizing contingent power relations as elegant, learnable regularities.</p>
</blockquote>
<hr>
</section>
<section id="why-this-doesnt-dismiss-the-book-important" class="level2">
<h2 class="anchored" data-anchor-id="why-this-doesnt-dismiss-the-book-important">Why this doesn’t dismiss the book (important)</h2>
<p>Marx is not anti-math. He is anti-naturalization.</p>
<p>The book is strongest when:</p>
<ul>
<li>analyzing physical or semi-physical processes</li>
<li>describing optimization geometry</li>
</ul>
<p>It overreaches when:</p>
<ul>
<li>it forgets that some “structure” is the sediment of struggle and power, not a property of the world.</li>
</ul>
<p>If you want, I can:</p>
<ul>
<li>compress this into a <strong>tight paragraph suitable for a paper</strong>, or</li>
<li>explicitly map this onto <strong>Althusser / Gramsci / ideology as apparatus</strong>, or</li>
<li>help you pose this as a <strong>provocative seminar question</strong>.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/dantetz\.github\.io\/comm4190_F25_Using_LLMs_Blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>